<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Clock</title>
</head>
<body>
    <canvas width="500" height="500"></canvas>
    <script>
        const { PI, cos, sin } = Math;
        const context = document.querySelector('canvas').getContext('2d');
        const hL = 45, mL = 65, sL = 85;
        const img = document.createElement('img');
        img.height = img.width = 500;
        img.src = './backgournd.jpg';
        img.onload = function() {
            tempImg = new Image();
            tempImg.src = img.src;
            const {width, height} = tempImg;
            drawClock({width, height});
        }
        // document.body.appendChild(img)
        function drawClock({width, height}) {
            setInterval(() => {
                const theDate = new Date();
                const s = theDate.getSeconds(),
                h = theDate.getHours() % 12,
                m = theDate.getMinutes();
                const rd = s * PI / 30;
                const xs = sL * Math.cos(rd);
                const ys = sL * Math.sin(rd),
                xh = hL * cos(h * PI / 6),
                yh = hL * sin(h * PI / 6),
                xm = mL * cos(m * PI / 30),
                ym = mL * sin(m * PI / 30);
                context.clearRect(0, 0, 500, 500);
                context.save();
                context.translate(200, 200);
                context.rotate(-PI / 93)
                context.drawImage(img, 0, 0, width, height - 100, -110, -110, 220, 220);
                context.restore();
                context.beginPath();
                context.save()
                context.translate(200, 200);
                context.moveTo(0, 0)
                context.rotate(- PI / 2);
                context.save();
                context.moveTo(0, 0);
                context.lineTo(xh, yh);
                context.restore();
                context.moveTo(0, 0);
                context.lineTo(xm, ym);
                context.moveTo(0, 0);
                context.lineTo(xs, ys);
                context.restore();
                context.stroke();
            }, 1000)
        }
        
    </script>
</body>
</html>